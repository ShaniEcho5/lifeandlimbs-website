<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Life and Limb Blog Manager</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f1f1f1;
      color: #23282d;
      line-height: 1.4;
    }
    
    /* WordPress-style admin bar */
    .admin-bar {
      background: #23282d;
      color: white;
      padding: 0;
      box-shadow: 0 1px 1px rgba(0,0,0,.04);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 99999;
      height: 32px;
    }
    
    .admin-bar .bar-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      height: 100%;
    }
    
    .admin-bar .site-name {
      font-weight: 400;
      font-size: 13px;
    }
    
    .admin-bar .user-info {
      font-size: 13px;
      color: #eee;
    }
    
    /* Main layout */
    .admin-wrapper {
      margin-top: 32px;
      display: flex;
      min-height: calc(100vh - 32px);
    }
    
    /* WordPress-style sidebar */
    .admin-menu {
      width: 160px;
      background: #23282d;
      color: #eee;
      padding: 0;
      box-shadow: inset -1px 0 0 rgba(0,0,0,.1);
    }
    
    .admin-menu ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    
    .admin-menu li {
      margin: 0;
      position: relative;
    }
    
    .admin-menu a {
      display: block;
      padding: 8px 12px;
      color: #eee;
      text-decoration: none;
      border: none;
      font-size: 13px;
      line-height: 18px;
      transition: all 0.1s ease-in-out;
    }
    
    .admin-menu a:hover,
    .admin-menu a.current {
      background: #0073aa;
      color: white;
    }
    
    .admin-menu .menu-icon {
      width: 20px;
      height: 20px;
      display: inline-block;
      margin-right: 5px;
      vertical-align: top;
    }
    
    /* Main content area */
    .admin-content {
      flex: 1;
      background: #f1f1f1;
      padding: 20px;
    }
    
    /* WordPress-style page header */
    .page-header {
      background: white;
      margin: -20px -20px 20px -20px;
      padding: 20px;
      border-bottom: 1px solid #ccd0d4;
    }
    
    .page-header h1 {
      font-size: 23px;
      font-weight: 400;
      margin: 0;
      padding: 9px 0 4px 0;
      line-height: 1.3;
    }
    
    .page-header .add-new-btn {
      background: #0073aa;
      color: white;
      padding: 6px 10px;
      text-decoration: none;
      border-radius: 3px;
      font-size: 13px;
      margin-left: 10px;
      display: inline-block;
    }
    
    .page-header .add-new-btn:hover {
      background: #005177;
    }
    
    /* WordPress-style tabs */
    .nav-tab-wrapper {
      border-bottom: 1px solid #ccd0d4;
      margin-bottom: 20px;
    }
    
    .nav-tab {
      background: #f1f1f1;
      border: 1px solid #ccd0d4;
      border-bottom: none;
      color: #555;
      text-decoration: none;
      padding: 8px 12px;
      margin-right: 5px;
      display: inline-block;
      font-size: 13px;
      cursor: pointer;
    }
    
    .nav-tab.nav-tab-active {
      background: white;
      color: #000;
      border-bottom: 1px solid white;
      margin-bottom: -1px;
    }
    
    .nav-tab:hover {
      background: white;
    }
    
    /* Tab content */
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* WordPress-style table */
    .wp-list-table {
      width: 100%;
      background: white;
      border: 1px solid #ccd0d4;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    
    .wp-list-table th,
    .wp-list-table td {
      padding: 8px 10px;
      border-bottom: 1px solid #ccd0d4;
      text-align: left;
    }
    
    .wp-list-table th {
      background: #f9f9f9;
      font-weight: 600;
      font-size: 13px;
    }
    
    .wp-list-table td {
      font-size: 13px;
    }
    
    .wp-list-table .row-title {
      font-weight: 600;
      color: #0073aa;
      text-decoration: none;
    }
    
    .wp-list-table .row-title:hover {
      color: #005177;
    }
    
    .wp-list-table .row-actions {
      color: #666;
      font-size: 12px;
      margin-top: 2px;
    }
    
    .wp-list-table .row-actions a {
      color: #0073aa;
      text-decoration: none;
      margin-right: 8px;
    }
    
    .wp-list-table .row-actions a:hover {
      color: #005177;
    }
    
    .wp-list-table .row-actions .delete {
      color: #b32d2e;
    }
    
    .wp-list-table .row-actions .delete:hover {
      color: #8a2424;
    }
    
    /* WordPress-style form */
    .form-table {
      width: 100%;
      background: white;
      border: 1px solid #ccd0d4;
      padding: 20px;
      margin-bottom: 20px;
    }
    
    .form-table th,
    .form-table td {
      padding: 20px 10px;
      border-bottom: 1px solid #f0f0f1;
      vertical-align: top;
    }
    
    .form-table th {
      width: 200px;
      font-weight: 600;
      font-size: 13px;
      text-align: left;
    }
    
    .form-table input[type="text"],
    .form-table input[type="date"],
    .form-table textarea {
      width: 100%;
      max-width: 500px;
      padding: 8px;
      border: 1px solid #8c8f94;
      border-radius: 4px;
      font-size: 13px;
    }
    
    .form-table textarea {
      min-height: 200px;
      font-family: Monaco, Consolas, monospace;
    }
    
    .form-table .description {
      color: #666;
      font-size: 12px;
      margin-top: 5px;
    }
    
    /* WordPress-style buttons */
    .button,
    .button-primary {
      background: #f6f7f7;
      border: 1px solid #ccd0d4;
      color: #2271b1;
      text-decoration: none;
      padding: 8px 12px;
      font-size: 13px;
      line-height: 1;
      border-radius: 3px;
      cursor: pointer;
      display: inline-block;
      margin-right: 5px;
    }
    
    .button-primary {
      background: #2271b1;
      border-color: #2271b1;
      color: white;
    }
    
    .button:hover {
      background: #f0f0f1;
      border-color: #0a4b78;
      color: #0a4b78;
    }
    
    .button-primary:hover {
      background: #135e96;
      border-color: #135e96;
    }
    
    .button-delete {
      background: #dc3232;
      border-color: #dc3232;
      color: white;
    }
    
    .button-delete:hover {
      background: #a00;
      border-color: #a00;
    }
    
    /* Status messages */
    .notice {
      background: white;
      border-left: 4px solid #0073aa;
      padding: 12px;
      margin: 5px 0 15px;
      box-shadow: 0 1px 1px rgba(0,0,0,.04);
    }
    
    .notice-success {
      border-left-color: #46b450;
    }
    
    .notice-error {
      border-left-color: #dc3232;
    }
    
    .notice-warning {
      border-left-color: #ffb900;
    }
    
    .notice p {
      margin: 0;
      font-size: 13px;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .admin-menu {
        width: 100%;
        height: auto;
      }
      
      .admin-wrapper {
        flex-direction: column;
      }
      
      .form-table th,
      .form-table td {
        display: block;
        width: 100%;
        padding: 10px;
      }
      
      .form-table th {
        border-bottom: none;
        padding-bottom: 5px;
      }
    }
  </style>
</head>
<body>
  <!-- WordPress-style admin bar -->
  <div class="admin-bar">
    <div class="bar-content">
      <div class="site-name">
        ‚öïÔ∏è Life and Limb Blog Manager
      </div>
      <div class="user-info">
        Welcome, Admin
      </div>
    </div>
  </div>

  <div class="admin-wrapper">
    <!-- WordPress-style sidebar menu -->
    <nav class="admin-menu">
      <ul>
        <li>
          <a href="#" onclick="showTab('posts')" class="current" id="posts-link">
            <span class="menu-icon">üìù</span>
            Posts
          </a>
        </li>
        <li>
          <a href="#" onclick="showTab('new-post')" id="new-post-link">
            <span class="menu-icon">‚ûï</span>
            Add New
          </a>
        </li>

        <li>
          <a href="/blog" target="_blank">
            <span class="menu-icon">üëÅÔ∏è</span>
            View Blog
          </a>
        </li>
        <li>
          <a href="/" target="_blank">
            <span class="menu-icon"></span>
            Main Site
          </a>
        </li>
      </ul>
    </nav>

    <!-- Main content area -->
    <main class="admin-content">
      <!-- Posts listing tab -->
      <div id="posts-tab" class="tab-content active">
        <div class="page-header">
          <h1>
            Posts
            <a href="#" onclick="showTab('new-post')" class="add-new-btn">Add New</a>
          </h1>
        </div>

        <div class="nav-tab-wrapper">
          <a href="#" class="nav-tab nav-tab-active">All (4)</a>
          <a href="#" class="nav-tab">Published (4)</a>
          <a href="#" class="nav-tab">Draft (0)</a>
        </div>

        <table class="wp-list-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Date</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="posts-list">
            <tr>
              <td>
                <a href="#" class="row-title">Life and Limb: Restoring Mobility, Dignity, and Hope</a>
                <div class="row-actions">
                  <a href="#" onclick="editPost('life-and-limbs-restoring-mobility')">Edit</a> |
                  <a href="/blog/life-and-limbs-restoring-mobility" target="_blank">View</a> |
                  <a href="#" class="delete" onclick="deletePost('life-and-limbs-restoring-mobility')">Delete</a>
                </div>
              </td>
              <td>October 13, 2025</td>
              <td>Published</td>
            </tr>
            <tr>
              <td>
                <a href="#" class="row-title">Community Support Program</a>
                <div class="row-actions">
                  <a href="#" onclick="editPost('community-support-program')">Edit</a> |
                  <a href="/blog/community-support-program" target="_blank">View</a> |
                  <a href="#" class="delete" onclick="deletePost('community-support-program')">Delete</a>
                </div>
              </td>
              <td>February 15, 2024</td>
              <td>Published</td>
            </tr>
            <tr>
              <td>
                <a href="#" class="row-title">3D Printing Technology</a>
                <div class="row-actions">
                  <a href="#" onclick="editPost('3d-printing-technology')">Edit</a> |
                  <a href="/blog/3d-printing-technology" target="_blank">View</a> |
                  <a href="#" class="delete" onclick="deletePost('3d-printing-technology')">Delete</a>
                </div>
              </td>
              <td>February 1, 2024</td>
              <td>Published</td>
            </tr>
            <tr>
              <td>
                <a href="#" class="row-title">Welcome to Our Blog</a>
                <div class="row-actions">
                  <a href="#" onclick="editPost('welcome-to-our-blog')">Edit</a> |
                  <a href="/blog/welcome-to-our-blog" target="_blank">View</a> |
                  <a href="#" class="delete" onclick="deletePost('welcome-to-our-blog')">Delete</a>
                </div>
              </td>
              <td>January 15, 2024</td>
              <td>Published</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Add new post tab -->
      <div id="new-post-tab" class="tab-content">
        <div class="page-header">
          <h1>Add New Post</h1>
        </div>

        <div id="message-area"></div>

        <form id="postForm">
          <table class="form-table">
            <tbody>
              <tr>
                <th scope="row">
                  <label for="title">Title *</label>
                </th>
                <td>
                  <input type="text" id="title" name="title" required>
                  <p class="description">Enter the title of your blog post.</p>
                </td>
              </tr>
              <tr>
                <th scope="row">
                  <label for="date">Publication Date *</label>
                </th>
                <td>
                  <input type="date" id="date" name="date" required>
                  <p class="description">Choose when this post should be published.</p>
                </td>
              </tr>
              <tr>
                <th scope="row">
                  <label for="description">Description *</label>
                </th>
                <td>
                  <textarea id="description" name="description" rows="3" required></textarea>
                  <p class="description">Brief description for SEO and social sharing (150-160 characters recommended).</p>
                </td>
              </tr>
              <tr>
                <th scope="row">
                  <label for="banner">Featured Image</label>
                </th>
                <td>
                  <input type="text" id="banner" name="banner" placeholder="/images/your-image.jpg">
                  <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                  <p>
                    <button type="button" class="button" onclick="document.getElementById('imageUpload').click()">
                      Choose Image
                    </button>
                    <button type="button" class="button" onclick="clearImage()">Clear</button>
                  </p>
                  <div id="imagePreview" style="margin-top: 10px; display: none;">
                    <img id="previewImg" src="" alt="Preview" style="max-width: 300px; max-height: 200px; border: 1px solid #ccd0d4;">
                  </div>
                  <p class="description">Choose a featured image for your blog post.</p>
                </td>
              </tr>
              <tr>
                <th scope="row">
                  <label for="content">Content *</label>
                </th>
                <td>
                  <textarea id="content" name="content" rows="15" required placeholder="Write your post content in Markdown format..."></textarea>
                  <p class="description">Write your post content using <a href="https://www.markdownguide.org/basic-syntax/" target="_blank">Markdown syntax</a>.</p>
                </td>
              </tr>
            </tbody>
          </table>

          <p class="submit">
            <button type="submit" class="button-primary">Publish Post</button>
            <button type="button" class="button" onclick="saveDraft()">Save Draft</button>
            <button type="button" class="button" onclick="clearForm()">Clear</button>
          </p>
        </form>
      </div>

      <!-- Media tab -->
      <div id="media-tab" class="tab-content">
        

        <div class="notice">
          <p><strong>Upload Location:</strong> Save your images to <code>/public/images/</code> directory</p>
        </div>

        <div class="form-table">
          <h3>Quick Upload Guide</h3>
          <ol>
            <li>Choose an image using the file selector below</li>
            <li>Save the image to your <code>/public/images/</code> folder</li>
            <li>Use the path <code>/images/filename.jpg</code> in your posts</li>
          </ol>
          
          <p>
            <input type="file" id="mediaUpload" accept="image/*" multiple>
            <button type="button" class="button-primary" onclick="showUploadInstructions()">Get Upload Instructions</button>
          </p>
          
          <div id="uploadInstructions" style="margin-top: 20px;"></div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Set today's date as default
    document.getElementById('date').valueAsDate = new Date();
    
    // Tab switching functionality
    function showTab(tabName) {
      // Hide all tab contents
      const tabs = document.querySelectorAll('.tab-content');
      tabs.forEach(tab => tab.classList.remove('active'));
      
      // Remove active class from all menu links
      const links = document.querySelectorAll('.admin-menu a');
      links.forEach(link => link.classList.remove('current'));
      
      // Show selected tab
      document.getElementById(tabName + '-tab').classList.add('active');
      document.getElementById(tabName + '-link').classList.add('current');
    }
    
    // Image upload functionality
    const imageUpload = document.getElementById('imageUpload');
    const bannerInput = document.getElementById('banner');
    const imagePreview = document.getElementById('imagePreview');
    const previewImg = document.getElementById('previewImg');
    
    imageUpload.addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        // Validate file
        if (!file.type.startsWith('image/')) {
          showMessage('Please select an image file.', 'error');
          return;
        }
        
        if (file.size > 5 * 1024 * 1024) {
          showMessage('File size must be less than 5MB.', 'error');
          return;
        }
        
        // Generate filename
        const timestamp = Date.now();
        const extension = file.name.split('.').pop();
        const filename = `blog-${timestamp}.${extension}`;
        
        bannerInput.value = `/images/${filename}`;
        
        // Show preview
        const reader = new FileReader();
        reader.onload = function(e) {
          previewImg.src = e.target.result;
          imagePreview.style.display = 'block';
        };
        reader.readAsDataURL(file);
        
        showMessage(`Please save this image as: <strong>${filename}</strong> in your <code>/public/images/</code> folder.`, 'warning');
      }
    });
    
    function clearImage() {
      bannerInput.value = '';
      imagePreview.style.display = 'none';
      imageUpload.value = '';
    }
    
    // Form submission
    document.getElementById('postForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const title = formData.get('title').trim();
      const date = formData.get('date');
      const description = formData.get('description').trim();
      const banner = formData.get('banner').trim();
      const content = formData.get('content').trim();
      
      if (!title || !date || !description || !content) {
        showMessage('Please fill in all required fields.', 'error');
        return;
      }
      
      // Generate slug
      const slug = title.toLowerCase()
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/(^-|-$)/g, '');
      
      // Generate markdown
      const markdown = `---
title: "${title}"
date: "${date}"
description: "${description}"${banner ? `\nbanner: "${banner}"` : ''}
---

${content}`;
      
      // Show success and instructions
      showMessage(`
        <strong>Post created successfully!</strong><br>
        <strong>File name:</strong> ${slug}.md<br>
        <strong>Instructions:</strong>
        <ol style="margin: 10px 0 0 20px;">
          <li>Copy the markdown content below</li>
          <li>Create file: <code>posts/${slug}.md</code></li>
          <li>Paste the content and save</li>
          <li>Your post will be live at: <code>/blog/${slug}</code></li>
        </ol>
        <textarea onclick="this.select()" style="width: 100%; height: 200px; margin-top: 10px; font-family: monospace; font-size: 12px;">${markdown}</textarea>
      `, 'success');
      
      // Add to posts list (simulation)
      addToPostsList(title, date, slug);
    });
    
    function showMessage(message, type = 'info') {
      const messageArea = document.getElementById('message-area');
      messageArea.innerHTML = `<div class="notice notice-${type}"><p>${message}</p></div>`;
      messageArea.scrollIntoView({ behavior: 'smooth' });
    }
    
    function clearForm() {
      document.getElementById('postForm').reset();
      document.getElementById('date').valueAsDate = new Date();
      clearImage();
      document.getElementById('message-area').innerHTML = '';
    }
    
    function saveDraft() {
      showMessage('Draft functionality would be implemented here.', 'info');
    }
    
    function editPost(slug) {
      showMessage(`Edit functionality for "${slug}" would be implemented here.`, 'info');
      showTab('new-post');
    }
    
    function deletePost(slug) {
      if (confirm(`Are you sure you want to delete this post? This action cannot be undone.`)) {
        showMessage(`Delete functionality for "${slug}" would be implemented here.`, 'warning');
      }
    }
    
    function addToPostsList(title, date, slug) {
      const tbody = document.getElementById('posts-list');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>
          <a href="#" class="row-title">${title}</a>
          <div class="row-actions">
            <a href="#" onclick="editPost('${slug}')">Edit</a> |
            <a href="/blog/${slug}" target="_blank">View</a> |
            <a href="#" class="delete" onclick="deletePost('${slug}')">Delete</a>
          </div>
        </td>
        <td>${new Date(date).toLocaleDateString()}</td>
        <td>Published</td>
      `;
      tbody.insertBefore(row, tbody.firstChild);
    }
    
    function showUploadInstructions() {
      const files = document.getElementById('mediaUpload').files;
      if (files.length === 0) {
        showMessage('Please select at least one file first.', 'error');
        return;
      }
      
      let instructions = '<h3>Upload Instructions:</h3><ol>';
      for (let file of files) {
        const timestamp = Date.now();
        const extension = file.name.split('.').pop();
        const filename = `${file.name.split('.')[0]}-${timestamp}.${extension}`;
        instructions += `<li>Save <strong>${file.name}</strong> as <code>${filename}</code> in <code>/public/images/</code></li>`;
      }
      instructions += '</ol>';
      
      document.getElementById('uploadInstructions').innerHTML = instructions;
    }
  </script>
</body>
</html>